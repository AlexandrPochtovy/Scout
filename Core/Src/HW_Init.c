/*
 * HW_Init.c
 *
 *  Created on: Aug 29, 2023
 *      Author: alexm
 */
#include "HW_Init.h"

void HardwareInit(void) {

	TIM10->CCER |= TIM_CCER_CC1E;
	TIM10->DIER |= TIM_DIER_UIE;
	TIM10->CR1 |= TIM_CR1_CEN;

	TIM11->CCER |= TIM_CCER_CC1E;
	TIM11->DIER |= TIM_DIER_UIE;
	TIM11->CR1 |= TIM_CR1_CEN;

	TIM12->CCER |= TIM_CCER_CC1E | TIM_CCER_CC2E;
	TIM12->DIER |= TIM_DIER_UIE | TIM_DIER_CC2IE;
	TIM12->CR1 |= TIM_CR1_CEN;

	TIM13->CCER |= TIM_CCER_CC1E;
	TIM13->CR1 |= TIM_CR1_CEN;

	TIM8->CCER |= TIM_CCER_CC3E;
	TIM8->BDTR |= TIM_BDTR_MOE;
	TIM8->CR1 |= TIM_CR1_CEN;

	I2C1->CR2 |= I2C_CR2_ITERREN | I2C_CR2_ITEVTEN;
	I2C1->CR1 |= I2C_CR1_PE;

	/*I2C2->CR2 |= I2C_CR2_ITERREN | I2C_CR2_ITEVTEN;
	I2C2->CR1 |= I2C_CR1_PE;*/

	I2C3->CR2 |= I2C_CR2_ITERREN | I2C_CR2_ITEVTEN;
	I2C3->CR1 |= I2C_CR1_PE;

	ADC1->CR1 |= ADC_CR1_EOCIE | ADC_CR1_OVRIE;
	ADC1->CR2 |= ADC_CR2_ADON;
	LL_mDelay(5);
	ADC1->CR2 |= ADC_CR2_SWSTART;
}
